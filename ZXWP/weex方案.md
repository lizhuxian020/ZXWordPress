# 提出问题
储能app需要一个功能有如下特性:
1. 能在部署在服务器上的代码(类似配置文件), app能放到此文件, 并迅速渲染页面(原生组件). 能添加交互事件, 能任意搭建UI, 能做网络请求等等.
2. 不能太影响包的大小, 服务器上的代码包也不能太大.
3. 使用vue框架

#提出方案
##uni-app
出自DCloud, 基于weex实现的一个小程序开发框架. 可接入原生, 可导出成各个平台的小程序. 接入原生后, 只需要读取一个代码包(wgt文件), 即可完成页面渲染(原生), 一个包(1~5个页面)在200kb~2M左右.
###优点
1. 有一套完整的生态, 只需要通过简单配置即可实现支付,分享,埋点等第三方厂商的功能.
2. 适合不太懂原生的前端开发人员使用. 可直接从零开发app. 
3. 使用自己的开发工具HBuilder, 可以打ios包和安卓包.


###缺点
1. 因为有一套完整的生态, 他的SDK里面都包含着各种第三方厂商的SDK, 同时储能app也已经接入了这些第三方厂商, 所以会导致文件冲突, 而我们只能选择删除自己的来去接入uniapp, 一旦他们的第三方SDK版本过高, 我们还可能需要修改代码去适配uniapp. 
2. 只能读取离线包, 不能使用url读取, 只能从服务器上下载到本地读取. 同时要做好包版本管理.
3. 若有依赖原生api, 则在开发期间调试困难. 不像调试H5一样, app可以访问URL, 来和h5进行联调, 而是需要打好一个wgt包, 再放到app里, 再运行起来看看效果. 途中如果想加个log也要重新打包调试. 

##ReactNative(RN)
出自Facebook, 使用前端框架React实现的渲染原生组件的框架. 和uniapp一样, 也是生成一个代码包(jsbundle文件), ReactNative读取这个文件, 进行页面渲染. 一个jsbundle文件至少1MB, 大的可以去到10M甚至20MB.
###优点
1. 社区比较健全, 许多著名app在使用. 遇到问题有比较多的解决方案.
2. 完全开源. 
3. 开发期间可以webSocket进行实时调试, 期间不需要app重新编译运行, 修改代码后马上生效, 大大加快开发效率缩短开发周期.

###缺点
1. 该框架属于重量级的, 遇到问题很容易陷入坑里. 学习门槛比较高, 需要懂React和原生.
2. 搭建开发环境比较困难, RN的依赖库通过npm进行管理, 他们之间依赖的各个node库需要很强的版本依赖. 

##Weex
出自阿里巴巴, 轻量级的跨平台框架(只负责实现UI渲染), 其他实现都要交由原生(包括图片, 网络, 数据存储等基础功能), 只需要写一个vue.js文件, 即可渲染出页面. 所以也可以像H5一样, 直接访问url, 只要该url指向的是这个文件即可, 所以可以在本地, 可以在服务器上. 一个文件也就几k或者十几K.

###优点
1. 轻量级, 对工程影响甚小, 比较纯粹, 就是搭建UI和绑定事件. 
2. 可使用URL访问文件, 没有打包的过程. 没有协议的限制, 可使用file协议访问本地.
3. 文件小, 可直接部署在服务器, app访问即可, 不需要有下载行为.

###缺点
1. 也正是因为纯粹, 如果想其成熟好用, 需要建立成熟完整的原生api, 供weex页面使用.



>综上所述: 推荐使用weex, weex比较符合要求.



#目前进度
weex已经接入完成. 目标: 实现通过后台配置, app可新增入口, 入口跳转到新的weex页面.
